# ุฏููู ุชุทุจูู ููุงุนุฏ ุงูุฃูุงู ูู Firebase
## Firebase Security Rules Implementation Guide

## ๐ ุฎุทูุงุช ุชุทุจูู ููุงุนุฏ ุงูุฃูุงู

### 1. **ุงููุตูู ุฅูู Firebase Console**
1. ุงุฐูุจ ุฅูู [Firebase Console](https://console.firebase.google.com/)
2. ุงุฎุชุฑ ูุดุฑูุนู
3. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุฎุชุฑ "Realtime Database"
4. ุงุฎุชุฑ ุชุจููุจ "Rules"

### 2. **ุชุทุจูู ุงูููุงุนุฏ ุงูุฌุฏูุฏุฉ**
1. ุงูุณุฎ ูุญุชูู ููู `firebase-security-rules.json`
2. ุงูุตู ุงููุญุชูู ูู ูุญุฑุฑ ุงูููุงุนุฏ
3. ุงุถุบุท "Publish" ูุชุทุจูู ุงูููุงุนุฏ

### 3. **ุงูุชุญูู ูู ุชุทุจูู ุงูููุงุนุฏ**
```javascript
// ุงุฎุชุจุงุฑ ูู ูุญุฏุฉ ุงูุชุญูู
// ูุฌุจ ุฃู ุชูุดู ูุฐู ุงูุนูููุฉ ุฅุฐุง ูุงูุช ุงูููุงุนุฏ ูุทุจูุฉ ุจุดูู ุตุญูุญ
firebase.database().ref('/users').set({test: "unauthorized"});
```

## ๐ ุดุฑุญ ููุงุนุฏ ุงูุฃูุงู ุงููุทุจูุฉ

### 1. **ููุงุนุฏ ุนุงูุฉ**
```json
{
  "rules": {
    ".read": "auth != null",
    ".write": "auth != null"
  }
}
```
- **ุงููุนูู**: ูุชุทูุจ ุชุณุฌูู ุฏุฎูู ูููุฑุงุกุฉ ูุงููุชุงุจุฉ
- **ุงููุฏู**: ููุน ุงููุตูู ุบูุฑ ุงููุตุฑุญ ุจู

### 2. **ููุงุนุฏ ุงููุณุชุฎุฏููู**
```json
"users": {
  ".indexOn": ["username", "role", "isActive"],
  "$userId": {
    ".validate": "newData.hasChildren(['username', 'password', 'role', 'createdAt', 'isActive'])"
  }
}
```
- **ุงูููุฑุณุฉ**: ุชุณุฑูุน ุงูุจุญุซ ุจุงูุงุณู ูุงูุฏูุฑ ูุงูุญุงูุฉ
- **ุงูุชุญูู**: ุถูุงู ูุฌูุฏ ุงูุญููู ุงููุทููุจุฉ

### 3. **ููุงุนุฏ ุงููุฑูุน**
```json
"branchMetadata": {
  ".indexOn": ["name", "isActive", "createdAt"],
  "$branchId": {
    ".validate": "newData.hasChildren(['name', 'users', 'createdAt', 'isActive'])"
  }
}
```
- **ุงูููุฑุณุฉ**: ุชุณุฑูุน ุงูุจุญุซ ูุงูููุชุฑุฉ
- **ุงูุชุญูู**: ุถูุงู ุงูุจููุฉ ุงูุตุญูุญุฉ ููุจูุงูุงุช

### 4. **ููุงุนุฏ ุจูุงูุงุช ุงููุฑูุน**
```json
"branchData": {
  "$branchId": {
    ".indexOn": ["lastUpdated"],
    "products": {
      ".indexOn": ["name", "quantity"]
    },
    "sales": {
      ".indexOn": ["date", "user", "productName"]
    }
  }
}
```
- **ุงูููุฑุณุฉ ุงููุชุนุฏุฏุฉ**: ุชุณุฑูุน ุงูุงุณุชุนูุงูุงุช ุงููุฎุชููุฉ
- **ุงูุชูุธูู**: ูุตู ุงูุจูุงูุงุช ุญุณุจ ุงููุฑุน

## ๐ ููุงุฆุฏ ุงูููุฑุณุฉ ุงููุทุจูุฉ

### 1. **ุงุณุชุนูุงูุงุช ุงููุณุชุฎุฏููู**
```javascript
// ุงูุจุญุซ ุจุงูุงุณู - ุณุฑูุน ุจุณุจุจ ุงูููุฑุณุฉ
database.ref('users').orderByChild('username').equalTo('admin');

// ุงูุจุญุซ ุจุงูุฏูุฑ - ุณุฑูุน ุจุณุจุจ ุงูููุฑุณุฉ
database.ref('users').orderByChild('role').equalTo('admin');
```

### 2. **ุงุณุชุนูุงูุงุช ุงููุจูุนุงุช**
```javascript
// ุงูุจุญุซ ุจุงูุชุงุฑูุฎ - ุณุฑูุน ุจุณุจุจ ุงูููุฑุณุฉ
database.ref('branchData/branch1/sales').orderByChild('date').startAt('2024-01-01');

// ุงูุจุญุซ ุจุงููุณุชุฎุฏู - ุณุฑูุน ุจุณุจุจ ุงูููุฑุณุฉ
database.ref('branchData/branch1/sales').orderByChild('user').equalTo('user1');
```

### 3. **ุงุณุชุนูุงูุงุช ุงูุฃุตูุงู**
```javascript
// ุงูุจุญุซ ุจุงูุงุณู - ุณุฑูุน ุจุณุจุจ ุงูููุฑุณุฉ
database.ref('branchData/branch1/products').orderByChild('name').equalTo('ุตูู1');

// ุชุฑุชูุจ ุจุงููููุฉ - ุณุฑูุน ุจุณุจุจ ุงูููุฑุณุฉ
database.ref('branchData/branch1/products').orderByChild('quantity');
```

## โ๏ธ ุชุญุฐูุฑุงุช ูููุฉ

### 1. **ูุจู ุชุทุจูู ุงูููุงุนุฏ**
- **ุงูุดุฆ ูุณุฎุฉ ุงุญุชูุงุทูุฉ** ูู ุงูุจูุงูุงุช ุงูุญุงููุฉ
- **ุงุฎุชุจุฑ ุงูููุงุนุฏ** ูู ุจูุฆุฉ ุชุทููุฑ ุฃููุงู
- **ุชุฃูุฏ ูู ุตุญุฉ ุงูุจูุงูุงุช** ุงูููุฌูุฏุฉ

### 2. **ุจุนุฏ ุชุทุจูู ุงูููุงุนุฏ**
- **ุงุฎุชุจุฑ ุฌููุน ุงููุธุงุฆู** ููุชุฃูุฏ ูู ุนูููุง
- **ุฑุงูุจ ุงูุฃุฎุทุงุก** ูู ูุญุฏุฉ ุงูุชุญูู
- **ุชุญูู ูู ุงูุฃุฏุงุก** ููุงุณุชุนูุงูุงุช

### 3. **ูู ุญุงูุฉ ุงููุดุงูู**
```json
// ููุงุนุฏ ุทูุงุฑุฆ - ุงุณุชุฎุฏู ููุท ูู ุญุงูุฉ ุงูุถุฑูุฑุฉ
{
  "rules": {
    ".read": true,
    ".write": true
  }
}
```

## ๐ง ุชุฎุตูุต ุงูููุงุนุฏ

### 1. **ุฅุถุงูุฉ ููุงุนุฏ ูุฎุตุตุฉ**
```json
"customData": {
  ".read": "auth.uid === 'admin_user_id'",
  ".write": "auth.uid === 'admin_user_id'"
}
```

### 2. **ููุงุนุฏ ุญุณุจ ุงูููุช**
```json
"timeBasedData": {
  ".write": "now < timestamp + 86400000" // 24 ุณุงุนุฉ
}
```

### 3. **ููุงุนุฏ ุญุณุจ ุญุฌู ุงูุจูุงูุงุช**
```json
"limitedData": {
  ".validate": "newData.val().length < 1000"
}
```

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### 1. **ูุฑุงูุจุฉ ุงูุงุณุชุนูุงูุงุช**
- ุงุณุชุฎุฏู Firebase Performance Monitoring
- ุฑุงูุจ ุฃููุงุช ุงูุงุณุชุฌุงุจุฉ
- ุชุญูู ูู ุงุณุชุฎุฏุงู ุงูููุงุฑุณ

### 2. **ุชุญููู ุงูุงุณุชุฎุฏุงู**
```javascript
// ุชูุนูู ุชุณุฌูู ุงูุงุณุชุนูุงูุงุช
firebase.database.enableLogging(true);
```

### 3. **ุชุญุณูู ุงูุฃุฏุงุก**
- ุงุณุชุฎุฏู ุงูููุงุฑุณ ุงูููุงุณุจุฉ
- ููู ูู ุญุฌู ุงูุจูุงูุงุช ุงููููููุฉ
- ุงุณุชุฎุฏู ุงูุชุฎุฒูู ุงููุคูุช

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### 1. **ุฎุทุฃ "Permission Denied"**
```javascript
// ุงูุณุจุจ: ููุงุนุฏ ุงูุฃูุงู ุชุฑูุถ ุงูุนูููุฉ
// ุงูุญู: ุชุญูู ูู ุชุณุฌูู ุงูุฏุฎูู ูุตูุงุญูุงุช ุงููุณุชุฎุฏู
```

### 2. **ุฎุทุฃ "Index not defined"**
```javascript
// ุงูุณุจุจ: ูุญุงููุฉ ุงุณุชุนูุงู ุจุฏูู ููุฑุณ
// ุงูุญู: ุฃุถู ุงูููุฑุณ ุงููุทููุจ ูู ุงูููุงุนุฏ
```

### 3. **ุจุทุก ูู ุงูุงุณุชุนูุงูุงุช**
```javascript
// ุงูุณุจุจ: ุนุฏู ูุฌูุฏ ููุงุฑุณ ููุงุณุจุฉ
// ุงูุญู: ุฃุถู ููุงุฑุณ ููุญููู ุงููุณุชุฎุฏูุฉ ูู ุงูุงุณุชุนูุงูุงุช
```

## ๐ ุฃูุถู ุงูููุงุฑุณุงุช

### 1. **ุชุตููู ุงูููุงุนุฏ**
- ุงุจุฏุฃ ุจููุงุนุฏ ุตุงุฑูุฉ ูุฎูู ุชุฏุฑูุฌูุงู
- ุงุณุชุฎุฏู ุงูุชุญูู ูู ุงูุจูุงูุงุช
- ุฃุถู ููุงุฑุณ ููุญููู ุงููููุฉ

### 2. **ุงูุงุฎุชุจุงุฑ**
- ุงุฎุชุจุฑ ุฌููุน ุงูุณููุงุฑูููุงุช
- ุงุณุชุฎุฏู ุจูุงูุงุช ุชุฌุฑูุจูุฉ
- ุฑุงูุจ ุงูุฃุฏุงุก ุจุงุณุชูุฑุงุฑ

### 3. **ุงูุตูุงูุฉ**
- ุฑุงุฌุน ุงูููุงุนุฏ ุฏูุฑูุงู
- ุญุฏุซ ุงูููุงุฑุณ ุญุณุจ ุงูุญุงุฌุฉ
- ุฑุงูุจ ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ๐ ุชุญุฏูุซ ุงูููุงุนุฏ

### 1. **ุงูุชุญุฏูุซ ุงูุชุฏุฑูุฌู**
```json
// ุงููุฑุญูุฉ 1: ุฅุถุงูุฉ ููุงุนุฏ ุฌุฏูุฏุฉ
"newFeature": {
  ".read": "auth != null",
  ".write": "auth != null"
}

// ุงููุฑุญูุฉ 2: ุชุดุฏูุฏ ุงูููุงุนุฏ ุงูููุฌูุฏุฉ
"existingFeature": {
  ".read": "auth.uid === data.child('owner').val()",
  ".write": "auth.uid === data.child('owner').val()"
}
```

### 2. **ุงุฎุชุจุงุฑ ุงูุชุญุฏูุซุงุช**
- ุงุณุชุฎุฏู Firebase Emulator
- ุงุฎุชุจุฑ ูุน ุจูุงูุงุช ุญููููุฉ
- ุฑุงูุจ ุงูุฃุฎุทุงุก ุจุนุฏ ุงููุดุฑ

---

**ููุงุญุธุฉ**: ูุฐู ุงูููุงุนุฏ ูุตููุฉ ุฎุตูุตุงู ููุธุงู ุฅุฏุงุฑุฉ ุงููุฑูุน ููุฏ ุชุญุชุงุฌ ุชุนุฏูู ุญุณุจ ุงุญุชูุงุฌุงุชู ุงูุฎุงุตุฉ.
